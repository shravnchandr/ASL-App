/**
 * LearnPage Component Styles
 * M3 Expressive with spring physics and gradients
 */

.learn-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--md-sys-color-surface-variant);
}

[data-theme="dark"] .learn-page {
    background: var(--md-sys-color-background);
}

/* Header */
.learn-page__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px);
    background: var(--md-sys-color-surface);
    border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

[data-theme="dark"] .learn-page__header {
    background: var(--md-sys-color-surface-container);
}

.learn-page__back-btn {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs, 4px);
    padding: var(--spacing-sm, 8px) var(--spacing-md, 16px);
    border: none;
    border-radius: var(--md-sys-shape-corner-pill);
    background: var(--md-sys-color-surface-container-high);
    color: var(--md-sys-color-on-surface);
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    font-weight: var(--md-sys-typescale-label-medium-weight, 500);
    cursor: pointer;
    transition:
        background-color var(--duration-quick) ease,
        transform var(--duration-quick) var(--spring-bounce);
}

[data-theme="dark"] .learn-page__back-btn {
    background: var(--md-sys-color-surface-container-highest);
}

.learn-page__back-btn:hover {
    background: var(--md-sys-color-surface-container-highest);
    transform: translateY(-1px);
}

[data-theme="dark"] .learn-page__back-btn:hover {
    background: var(--md-sys-color-outline-variant);
}

.learn-page__browse-btn {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs, 4px);
    padding: var(--spacing-sm, 8px) var(--spacing-md, 16px);
    border: none;
    border-radius: var(--md-sys-shape-corner-pill);
    background: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    font-weight: var(--md-sys-typescale-label-medium-weight, 500);
    cursor: pointer;
    transition:
        background-color var(--duration-quick) ease,
        transform var(--duration-quick) var(--spring-bounce),
        box-shadow var(--duration-quick) ease;
}

.learn-page__browse-btn:hover {
    background: var(--md-sys-color-tertiary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-primary);
}

.learn-page__stats {
    display: flex;
    align-items: center;
    gap: var(--spacing-md, 16px);
}

.learn-page__xp,
.learn-page__level {
    padding: var(--spacing-xs, 4px) var(--spacing-sm, 8px);
    border-radius: var(--md-sys-shape-corner-small);
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    font-weight: var(--md-sys-typescale-label-large-weight, 600);
}

.learn-page__xp {
    background: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
}

.learn-page__level {
    background: var(--md-sys-color-secondary-container);
    color: var(--md-sys-color-on-secondary-container);
}

/* Main content */
.learn-page__content {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-lg, 24px);
}

/* Landing screen */
.learn-landing {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 400px;
}

.learn-landing__icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-md, 16px);
}

.learn-landing__title {
    font-size: var(--md-sys-typescale-headline-medium-size, 2rem);
    font-weight: var(--md-sys-typescale-headline-medium-weight, 700);
    color: var(--md-sys-color-on-surface);
    margin: 0 0 var(--spacing-sm, 8px);
}

.learn-landing__subtitle {
    font-size: var(--md-sys-typescale-body-large-size, 1rem);
    color: var(--md-sys-color-on-surface-variant);
    margin: 0 0 var(--spacing-xl, 32px);
}

/* Stats cards */
.learn-landing__stats {
    display: flex;
    gap: var(--spacing-md, 16px);
    margin-bottom: var(--spacing-xl, 32px);
}

.stat-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px);
    background: var(--md-sys-color-surface);
    border-radius: var(--md-sys-shape-corner-large);
    box-shadow: var(--md-sys-elevation-1);
    transition:
        transform var(--duration-quick) var(--spring-bounce),
        box-shadow var(--duration-quick) ease;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--md-sys-elevation-2);
}

[data-theme="dark"] .stat-card {
    background: var(--md-sys-color-surface-container);
}

.stat-card__value {
    font-size: var(--md-sys-typescale-headline-small-size, 1.5rem);
    font-weight: var(--md-sys-typescale-headline-small-weight, 700);
    color: var(--md-sys-color-primary);
}

.stat-card__label {
    font-size: var(--md-sys-typescale-label-small-size, 0.75rem);
    color: var(--md-sys-color-on-surface-variant);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Error message */
.learn-landing__error {
    padding: var(--spacing-md, 16px);
    margin-bottom: var(--spacing-lg, 24px);
    background: var(--md-sys-color-error-container);
    color: var(--md-sys-color-on-error-container);
    border-radius: var(--md-sys-shape-corner-medium);
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
}

/* Start button - Primary CTA with gradient and asymmetric shape */
.learn-landing__start-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm, 8px);
    padding: var(--spacing-md, 16px) var(--spacing-xl, 32px);
    border: none;
    border-radius: var(--shape-asymmetric-1);
    background: var(--gradient-ocean);
    background-size: 200% 100%;
    color: var(--md-sys-color-on-primary);
    font-size: var(--md-sys-typescale-title-medium-size, 1.125rem);
    font-weight: var(--md-sys-typescale-label-large-weight, 600);
    cursor: pointer;
    box-shadow: var(--shadow-ocean);
    transition:
        background-position var(--duration-smooth) var(--spring-smooth),
        transform var(--duration-smooth) var(--spring-bounce),
        box-shadow var(--duration-smooth) ease;
}

.learn-landing__start-btn:hover:not(:disabled) {
    background-position: 100% 0;
    transform: translateY(-3px) scale(1.02);
    box-shadow:
        var(--shadow-ocean),
        0 12px 24px hsla(205, 87%, 45%, 0.25);
}

.learn-landing__start-btn:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition: all var(--duration-instant) var(--spring-gentle);
}

.learn-landing__start-btn:disabled {
    opacity: 0.7;
    cursor: wait;
}

/* Actions container */
.learn-landing__actions {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md, 16px);
    width: 100%;
    max-width: 280px;
}

.learn-landing__browse-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm, 8px);
    padding: var(--spacing-md, 16px) var(--spacing-xl, 32px);
    border: 2px solid var(--md-sys-color-outline);
    border-radius: var(--md-sys-shape-corner-pill);
    background: transparent;
    color: var(--md-sys-color-on-surface);
    font-size: var(--md-sys-typescale-body-large-size, 1rem);
    font-weight: var(--md-sys-typescale-label-large-weight, 600);
    cursor: pointer;
    transition:
        background-color var(--duration-quick) ease,
        border-color var(--duration-quick) ease,
        color var(--duration-quick) ease,
        transform var(--duration-quick) var(--spring-bounce);
}

.learn-landing__browse-btn:hover {
    background: var(--md-sys-color-primary-container);
    border-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-primary);
    transform: translateY(-1px);
}

[data-theme="dark"] .learn-landing__browse-btn:hover {
    background: hsla(205, 90%, 70%, 0.1);
}

.spinner {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.learn-landing__hint {
    margin-top: var(--spacing-md, 16px);
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    color: var(--md-sys-color-on-surface-variant);
}

/* Session complete screen */
.session-complete {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 400px;
}

.session-complete__icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-md, 16px);
    animation: bounce var(--duration-slow) var(--spring-energetic);
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

.session-complete__title {
    font-size: var(--md-sys-typescale-headline-medium-size, 2rem);
    font-weight: var(--md-sys-typescale-headline-medium-weight, 700);
    color: var(--md-sys-color-on-surface);
    margin: 0 0 var(--spacing-lg, 24px);
}

.session-complete__stats {
    display: flex;
    gap: var(--spacing-lg, 24px);
    margin-bottom: var(--spacing-xl, 32px);
}

.stat {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.stat__value {
    font-size: var(--md-sys-typescale-headline-small-size, 1.5rem);
    font-weight: var(--md-sys-typescale-headline-small-weight, 700);
    color: var(--md-sys-color-primary);
}

.stat__label {
    font-size: var(--md-sys-typescale-label-small-size, 0.75rem);
    color: var(--md-sys-color-on-surface-variant);
}

.session-complete__actions {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm, 8px);
    width: 100%;
}

/* Buttons */
.btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm, 8px);
    padding: var(--spacing-md, 16px) var(--spacing-xl, 32px);
    border: none;
    border-radius: var(--md-sys-shape-corner-pill);
    font-size: var(--md-sys-typescale-body-large-size, 1rem);
    font-weight: var(--md-sys-typescale-label-large-weight, 600);
    cursor: pointer;
    transition:
        background-color var(--duration-quick) ease,
        transform var(--duration-quick) var(--spring-bounce),
        box-shadow var(--duration-quick) ease;
}

.btn--primary {
    background: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
}

.btn--primary:hover {
    background: var(--md-sys-color-tertiary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-primary);
}

.btn--secondary {
    background: var(--md-sys-color-surface-container-high);
    color: var(--md-sys-color-on-surface);
}

[data-theme="dark"] .btn--secondary {
    background: var(--md-sys-color-surface-container-highest);
}

.btn--secondary:hover {
    background: var(--md-sys-color-surface-container-highest);
    transform: translateY(-1px);
}

[data-theme="dark"] .btn--secondary:hover {
    background: var(--md-sys-color-outline-variant);
}

/* Stats bar at top of level selector */
.learn-page__stats-bar {
    display: flex;
    justify-content: center;
    gap: var(--spacing-xl, 32px);
    padding: var(--spacing-lg, 24px);
    background: var(--md-sys-color-surface);
    border-radius: var(--md-sys-shape-corner-large);
    box-shadow: var(--md-sys-elevation-1);
    margin-bottom: var(--spacing-lg, 24px);
}

[data-theme="dark"] .learn-page__stats-bar {
    background: var(--md-sys-color-surface-container);
}

.stats-bar__item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.stats-bar__value {
    font-size: var(--md-sys-typescale-headline-small-size, 1.5rem);
    font-weight: var(--md-sys-typescale-headline-small-weight, 700);
    color: var(--md-sys-color-primary);
}

.stats-bar__label {
    font-size: var(--md-sys-typescale-label-small-size, 0.75rem);
    color: var(--md-sys-color-on-surface-variant);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Level detail view */
.level-detail {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 500px;
    width: 100%;
}

.level-detail__icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-md, 16px);
}

.level-detail__title {
    font-size: var(--md-sys-typescale-headline-medium-size, 2rem);
    font-weight: var(--md-sys-typescale-headline-medium-weight, 700);
    color: var(--md-sys-color-on-surface);
    margin: 0 0 var(--spacing-sm, 8px);
}

.level-detail__description {
    font-size: var(--md-sys-typescale-body-large-size, 1rem);
    color: var(--md-sys-color-on-surface-variant);
    margin: 0 0 var(--spacing-xl, 32px);
}

.level-detail__stats {
    display: flex;
    gap: var(--spacing-lg, 24px);
    margin-bottom: var(--spacing-lg, 24px);
}

.level-detail__progress {
    width: 100%;
    margin-bottom: var(--spacing-xl, 32px);
}

.level-detail__progress-bar {
    height: 8px;
    background: var(--md-sys-color-surface-container-highest);
    border-radius: var(--md-sys-shape-corner-pill);
    overflow: hidden;
    margin-bottom: var(--spacing-sm, 8px);
}

.level-detail__progress-fill {
    height: 100%;
    background: var(--gradient-ocean);
    border-radius: var(--md-sys-shape-corner-pill);
    transition: width var(--duration-smooth) var(--spring-smooth);
}

.level-detail__progress-text {
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    color: var(--md-sys-color-on-surface-variant);
}

.level-detail__error {
    padding: var(--spacing-md, 16px);
    margin-bottom: var(--spacing-lg, 24px);
    background: var(--md-sys-color-error-container);
    color: var(--md-sys-color-on-error-container);
    border-radius: var(--md-sys-shape-corner-medium);
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    width: 100%;
}

.level-detail__actions {
    margin-bottom: var(--spacing-xl, 32px);
}

.level-detail__start-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm, 8px);
    padding: var(--spacing-md, 16px) var(--spacing-xl, 32px);
    border: none;
    border-radius: var(--shape-asymmetric-1);
    background: var(--gradient-ocean);
    background-size: 200% 100%;
    color: var(--md-sys-color-on-primary);
    font-size: var(--md-sys-typescale-title-medium-size, 1.125rem);
    font-weight: var(--md-sys-typescale-label-large-weight, 600);
    cursor: pointer;
    box-shadow: var(--shadow-ocean);
    transition:
        background-position var(--duration-smooth) var(--spring-smooth),
        transform var(--duration-smooth) var(--spring-bounce),
        box-shadow var(--duration-smooth) ease;
}

.level-detail__start-btn:hover:not(:disabled) {
    background-position: 100% 0;
    transform: translateY(-3px) scale(1.02);
    box-shadow:
        var(--shadow-ocean),
        0 12px 24px hsla(205, 87%, 45%, 0.25);
}

.level-detail__start-btn:disabled {
    opacity: 0.7;
    cursor: wait;
}

.level-detail__signs-preview {
    width: 100%;
    text-align: left;
}

.level-detail__signs-preview h3 {
    font-size: var(--md-sys-typescale-title-small-size, 1rem);
    font-weight: var(--md-sys-typescale-title-small-weight, 600);
    color: var(--md-sys-color-on-surface);
    margin: 0 0 var(--spacing-md, 16px);
}

.level-detail__signs-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm, 8px);
}

.level-detail__sign-chip {
    padding: var(--spacing-xs, 4px) var(--spacing-sm, 8px);
    background: var(--md-sys-color-surface-container);
    border-radius: var(--md-sys-shape-corner-small);
    font-size: var(--md-sys-typescale-label-medium-size, 0.875rem);
    color: var(--md-sys-color-on-surface);
}

[data-theme="dark"] .level-detail__sign-chip {
    background: var(--md-sys-color-surface-container-high);
}

/* Session complete level info */
.session-complete__level-info {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm, 8px);
    margin-bottom: var(--spacing-lg, 24px);
    padding: var(--spacing-sm, 8px) var(--spacing-md, 16px);
    background: var(--md-sys-color-primary-container);
    border-radius: var(--md-sys-shape-corner-pill);
}

.session-complete__level-icon {
    font-size: 1.25rem;
}

.session-complete__level-name {
    font-size: var(--md-sys-typescale-label-large-size, 1rem);
    font-weight: var(--md-sys-typescale-label-large-weight, 600);
    color: var(--md-sys-color-on-primary-container);
}

.session-complete__progress-hint {
    width: 100%;
    max-width: 300px;
    margin-bottom: var(--spacing-lg, 24px);
    text-align: center;
}

.session-complete__progress-hint p {
    font-size: var(--md-sys-typescale-body-small-size, 0.875rem);
    color: var(--md-sys-color-on-surface-variant);
    margin: 0 0 var(--spacing-sm, 8px);
}

.session-complete__progress-bar {
    height: 8px;
    background: var(--md-sys-color-surface-container-highest);
    border-radius: var(--md-sys-shape-corner-pill);
    overflow: hidden;
}

.session-complete__progress-fill {
    height: 100%;
    background: var(--gradient-ocean);
    border-radius: var(--md-sys-shape-corner-pill);
    transition: width var(--duration-smooth) var(--spring-smooth);
}

/* Unlock celebration overlay */
.unlock-celebration {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.8);
    z-index: 1000;
    animation: fadeIn var(--duration-quick) ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.unlock-celebration__content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--spacing-2xl, 48px);
    background: var(--md-sys-color-surface);
    border-radius: var(--md-sys-shape-corner-extra-large);
    box-shadow: var(--md-sys-elevation-5);
    animation: scaleIn var(--duration-smooth) var(--spring-energetic);
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

[data-theme="dark"] .unlock-celebration__content {
    background: var(--md-sys-color-surface-container);
}

.unlock-celebration__icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-md, 16px);
    animation: bounce var(--duration-slow) var(--spring-energetic) infinite;
}

.unlock-celebration__title {
    font-size: var(--md-sys-typescale-headline-medium-size, 2rem);
    font-weight: var(--md-sys-typescale-headline-medium-weight, 700);
    color: var(--md-sys-color-primary);
    margin: 0 0 var(--spacing-lg, 24px);
}

.unlock-celebration__level {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm, 8px);
    padding: var(--spacing-md, 16px) var(--spacing-xl, 32px);
    background: var(--md-sys-color-primary-container);
    border-radius: var(--md-sys-shape-corner-large);
    margin-bottom: var(--spacing-md, 16px);
}

.unlock-celebration__level-icon {
    font-size: 2rem;
}

.unlock-celebration__level-name {
    font-size: var(--md-sys-typescale-title-large-size, 1.25rem);
    font-weight: var(--md-sys-typescale-title-large-weight, 600);
    color: var(--md-sys-color-on-primary-container);
}

.unlock-celebration__message {
    font-size: var(--md-sys-typescale-body-medium-size, 1rem);
    color: var(--md-sys-color-on-surface-variant);
    margin: 0;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .learn-page__browse-btn span:not(svg) {
        display: none;
    }

    .learn-page__browse-btn {
        padding: var(--spacing-sm, 8px);
    }
}

@media (max-width: 480px) {
    .learn-page__header {
        padding: var(--spacing-sm, 8px) var(--spacing-md, 16px);
    }

    .learn-page__content {
        padding: var(--spacing-md, 16px);
    }

    .learn-landing__stats {
        flex-direction: column;
        width: 100%;
    }

    .stat-card {
        width: 100%;
    }

    .session-complete__stats {
        flex-direction: column;
        gap: var(--spacing-md, 16px);
    }

    .learn-landing__actions {
        max-width: 100%;
    }

    .learn-page__stats-bar {
        flex-direction: column;
        gap: var(--spacing-md, 16px);
    }

    .level-detail__stats {
        flex-direction: column;
        width: 100%;
    }

    .level-detail__title {
        font-size: var(--md-sys-typescale-headline-small-size, 1.5rem);
    }

    .unlock-celebration__content {
        padding: var(--spacing-xl, 32px) var(--spacing-lg, 24px);
        margin: var(--spacing-md, 16px);
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .learn-page__back-btn,
    .learn-page__browse-btn,
    .stat-card,
    .learn-landing__start-btn,
    .learn-landing__browse-btn,
    .btn {
        transition: none;
    }

    .learn-page__back-btn:hover,
    .learn-page__browse-btn:hover,
    .stat-card:hover,
    .learn-landing__start-btn:hover:not(:disabled),
    .learn-landing__start-btn:active:not(:disabled),
    .learn-landing__browse-btn:hover,
    .btn--primary:hover,
    .btn--secondary:hover {
        transform: none;
    }

    .session-complete__icon {
        animation: none;
    }

    .spinner {
        animation: none;
    }
}
